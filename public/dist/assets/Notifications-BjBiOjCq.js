import{r as x,a as C,$ as R,a6 as A,a7 as M,j as e,_ as o}from"./main-17S3Hvul.js";import{A as L}from"./arrow-left-Bjrxd5xc.js";import{B as m}from"./bell-Bqr_-9_S.js";import{c as h}from"./createLucideIcon-DUHjy5LS.js";import{C as S,a as B}from"./chevron-right-CGY7HI01.js";/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=h("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=h("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=h("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),T=({notification:s,onMarkRead:l,isLoading:r})=>e.jsx("div",{className:`group transform transition-all duration-300 hover:-translate-y-1 ${s.isRead?"bg-white-pure":"bg-green-100"} rounded-xl shadow-sm hover:shadow-xl p-4 border border-gray-100`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-grow space-y-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:s.message}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(s.createdAt).toLocaleString()})]}),!s.isRead&&e.jsxs("button",{onClick:()=>l(s._id),disabled:r,className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-teal-500 to-emerald-500 text-white text-sm rounded-full hover:from-teal-600 hover:to-emerald-600 disabled:opacity-50",children:[e.jsx(E,{className:"w-4 h-4"}),r?"Processing...":"Mark Read"]})]})}),z=()=>{const[s,l]=x.useState(1),[r,i]=x.useState({}),c=5,f=C(),[g,p]=x.useState(!0),{data:t,isLoading:N,isError:j}=R(),[w]=A(),[b]=M(),u=t!=null&&t.data?g?t.data.filter(a=>!a.isRead):t.data:[],y=u.slice((s-1)*c,s*c),n=Math.ceil(u.length/c),v=async a=>{i(d=>({...d,[a]:!0}));try{await w(a),o.success("Marked as read",{style:{background:"#10B981",color:"white"}})}catch{o.error("Failed to mark as read",{style:{background:"#EF4444",color:"white"}})}finally{i(d=>({...d,[a]:!1}))}},k=async()=>{i(a=>({...a,all:!0}));try{await b(),o.success("Marked all as read",{style:{background:"#10B981",color:"white"}})}catch{o.error("Failed to mark all as read",{style:{background:"#EF4444",color:"white"}})}finally{i(a=>({...a,all:!1}))}};return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"})}):j?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsx("div",{className:"text-red-500 text-lg",children:"Unable to load notifications"})}):e.jsx("div",{className:"",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("header",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>f(-1),className:"p-2 rounded-full bg-white shadow hover:shadow-md transition-shadow",children:e.jsx(L,{className:"w-5 h-5 text-gray-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-6 h-6 text-teal-500"}),(t==null?void 0:t.unreadCount)>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-4 w-4 flex items-center justify-center",children:t.unreadCount})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:k,disabled:r.all,className:"transition-opacity duration-200 inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-teal-500 to-emerald-500 text-white text-sm rounded-full hover:from-teal-600 hover:to-emerald-600 disabled:opacity-50",children:"Mark all as read"}),e.jsxs("button",{onClick:()=>p(a=>!a),className:"flex items-center gap-2 text-sm text-gray-600",children:[g?e.jsx(F,{className:"w-8 h-8 text-teal-500"}):e.jsx(_,{className:"w-8 h-8 text-gray-400"}),"Show unread only"]})]})]}),!(t!=null&&t.data)||t.data.length===0?e.jsxs("div",{className:" rounded-xl p-12 text-center",children:[e.jsx(m,{className:"mx-auto w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No notifications"})]}):e.jsx("div",{className:"space-y-4",children:y.length>0?y.map(a=>e.jsx(T,{notification:a,onMarkRead:v,isLoading:r[a._id]},a._id)):e.jsxs("div",{className:" rounded-xl p-12 text-center",children:[e.jsx(m,{className:"mx-auto w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No notifications"})]})}),n>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[e.jsx("button",{onClick:()=>l(a=>a-1),disabled:s===1,className:"p-2 rounded-full bg-white shadow disabled:opacity-50 hover:shadow-md transition-shadow",children:e.jsx(S,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s," / ",n]}),e.jsx("button",{onClick:()=>l(a=>a+1),disabled:s===n,className:"p-2 rounded-full bg-white shadow disabled:opacity-50 hover:shadow-md transition-shadow",children:e.jsx(B,{className:"w-5 h-5 text-gray-600"})})]})]})})};export{z as default};
