import{w as E,bi as L,r as v,j as e,_ as x,af as P,ad as S,aJ as B,aM as F,a as I,t as D}from"./main-rkb-dHu5.js";import{S as C,L as R,D as T,P as z}from"./ProfileSetting-B4wXAtON.js";import{B as N}from"./Button-CvMneL3o.js";import{C as U}from"./CircularLoader-ByPKQ32Q.js";import{u as M,I as k,v as q,a as O}from"./InputField--WdItIgk.js";import{T as _}from"./trash-DfBzRkud.js";import{U as Y}from"./user-round-Fh_o0VMQ.js";import{T as H}from"./Tab-DLd86LDA.js";import"./createLucideIcon-Rsg1P1ng.js";import"./cn-DUyS5Z8L.js";import"./ShareToButton-DHO7nuu7.js";import"./Modal-_2ayBxly.js";import"./render-BxJVqWkM.js";import"./x-6k1wTkVV.js";import"./index-DuNlSBVo.js";/* empty css                   */import"./eye-y4_ED_9k.js";const J=()=>{var b,j,d,o,c,n;const{user:a}=E(u=>u.auth),[r,{isLoading:s}]=L(),[l,m]=v.useState({line1:((b=a==null?void 0:a.address)==null?void 0:b.line1)||"",line2:((j=a==null?void 0:a.address)==null?void 0:j.line2)||"",city:((d=a==null?void 0:a.address)==null?void 0:d.city)||"",state:((o=a==null?void 0:a.address)==null?void 0:o.state)||"",postalCode:((c=a==null?void 0:a.address)==null?void 0:c.postalCode)||"",country:((n=a==null?void 0:a.address)==null?void 0:n.country)||""}),t=u=>{const{name:f,value:h}=u.target;m(w=>({...w,[f]:h}))},g=async u=>{var f;u.preventDefault();try{await r(l).unwrap(),x.success("Address updated successfully")}catch(h){x.error(((f=h==null?void 0:h.data)==null?void 0:f.message)||"Failed to update address")}};return e.jsxs("div",{className:"md:p-8 p-4 bg-background-alt rounded-xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Address"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Address Line 1"}),e.jsx("input",{type:"text",name:"line1",value:l.line1,onChange:t,className:"w-full px-3 py-2 rounded-3xl border border-green-light focus:border-green outline-none",placeholder:"Enter address line 1",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Address Line 2"}),e.jsx("input",{type:"text",name:"line2",value:l.line2,onChange:t,className:"w-full px-3 py-2 rounded-3xl border border-green-light focus:border-green outline-none",placeholder:"Enter address line 2 (optional)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"City"}),e.jsx("input",{type:"text",name:"city",value:l.city,onChange:t,className:"w-full px-3 py-2 rounded-3xl border border-green-light focus:border-green outline-none",placeholder:"Enter city",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"State"}),e.jsx("input",{type:"text",name:"state",value:l.state,onChange:t,className:"w-full px-3 py-2 rounded-3xl border border-green-light focus:border-green outline-none",placeholder:"Enter state"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Postal Code"}),e.jsx("input",{type:"text",name:"postalCode",value:l.postalCode,onChange:t,className:"w-full px-3 py-2 rounded-3xl border border-green-light focus:border-green outline-none",placeholder:"Enter postal code",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:l.country,onChange:t,className:"w-full px-3 py-2 rounded-3xl border border-green-light focus:border-green outline-none",placeholder:"Enter country",required:!0})]})]}),e.jsx(N,{type:"submit",variant:"primary",className:"w-full mt-6 px-2 py-2",disabled:s,children:s?e.jsx(U,{}):"Update Address"})]})]})},V=({data:a})=>{const[r,s]=v.useState(!1),[l,{isLoading:m}]=P(),[t,{isLoading:g}]=S(),[b,{isLoading:j}]=B(),[d,o]=v.useState(a==null?void 0:a.avatar),{register:c,handleSubmit:n,formState:{errors:u}}=M({mode:"onChange",defaultValues:{username:a.username,fullName:a.fullName,email:a.email,bio:a.bio,avatar:a.avatar}}),f=async i=>{var p;try{const y={username:i.username,fullName:i.fullName,email:i.email,bio:((p=i==null?void 0:i.bio)==null?void 0:p.trim())||""};await l(y).unwrap(),s(!1),x.success("Profile updated successfully")}catch(y){console.error("Error updating credentials:",y),x.error("Couldn't update Profile")}},h=async i=>{try{const p=i.target.files[0];if(!p)return;const y=URL.createObjectURL(p);o(y);const A=new FormData;A.append("avatar",p),await t(A),x.success("Brand image updated successfully")}catch(p){o((a==null?void 0:a.avatar)||"/icons/DisplayPicture.svg"),console.error("Error updating brand image:",p),x.error("Couldn't update brand image")}finally{URL.revokeObjectURL(d)}},w=async()=>{try{await b(),o(null),x.success("Image removed successfully")}catch(i){console.error("Error removing brand image:",i),x.error("Couldn't remove brand image")}};return e.jsxs("form",{onSubmit:n(f),className:"flex flex-col gap-4 w-full",children:[e.jsx("p",{className:"font-bold mb-2",children:"Change your Brand Image (Hover on the Avatar)"}),e.jsxs("div",{className:"flex flex-row gap-4 w-full",children:[e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"avatar",accept:"image/*",onChange:h,className:"hidden hover:opacity-80"}),r&&e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"absolute right-0 top-0 text-gray-800 p-1 w-6 h-6 rounded-full z-10 bg-white",size:16}),e.jsx(_,{onClick:w,className:"absolute right-8 top-0 cursor-pointer z-10 text-red-600 p-1 w-6 h-6 rounded-full bg-white",size:16})]}),e.jsx("label",{htmlFor:"avatar",className:"cursor-pointer",children:e.jsxs("div",{className:"w-32 h-48 relative",children:[d&&d?e.jsx("img",{src:d,alt:"Profile",className:"w-32 h-48 object-cover rounded-md hover:opacity-80 transition-opacity"}):e.jsx(Y,{className:"text-black w-32 h-48"}),g&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(U,{color:"border-green"})})]})})]})}),e.jsxs("div",{className:"items-start space-y-6 w-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx(k,{id:"username",type:"text",name:"username",className:"mt-1 w-full opacity-40",placeholder:"Username",register:c,validate:q,errors:u,disabled:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"fullname",children:"Brand Name"}),e.jsx(k,{id:"fullname",type:"text",name:"fullName",className:"mt-1 break-all w-full",placeholder:"Name",register:c,validate:O,errors:u,disabled:!r}),r&&e.jsx(C,{className:"absolute right-3 top-9 text-gray-500",size:16})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"bio",children:"Brand Description"}),e.jsx("textarea",{...c("bio"),id:"bio",rows:"4",maxLength:120,className:`w-full px-3 py-2 rounded-3xl focus:outline-none ${r?"":"bg-gray-50"}`,disabled:!r}),r&&e.jsx(C,{className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600 transition-colors",size:16})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(N,{type:"button",variant:"secondary",className:"py-2 px-8 border-grey-light bg-blue-lighter",onClick:()=>s(!r),children:r?"Cancel":"Edit"}),r&&e.jsx(N,{type:"submit",variant:"secondary",disabledBoolean:m,className:"py-2 px-8 bg-green-light border-green",children:m?e.jsx("span",{className:"w-32 inline-block",children:e.jsx(U,{})}):e.jsx("span",{children:"Save Changes"})})]})]})},Z={0:{id:"brand-info",name:"Brand Info"},1:{id:"profile-settings",name:"Profile Settings"}},me=()=>{var o,c;const[a,{isLoading:r}]=F(),{user:s}=E(n=>n.auth),l=I(),m=D(),[t,g]=v.useState(0);v.useEffect(()=>{var n;((n=m.state)==null?void 0:n.activeTab)!==void 0&&g(m.state.activeTab)},[m.state]),v.useEffect(()=>{s||l("/dashboard")},[s,l]);const b=n=>{g(n)},j=s,d=()=>{a({user:s._id})};return e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"my-4",children:[e.jsx("div",{className:"mb-4 max-w-lg",children:e.jsx(H,{tabsData:Object.values(Z),activeTabIndex:t,handleTabChange:b})}),e.jsxs("div",{children:[t===0&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"md:p-8 p-4 bg-background-alt rounded-xl",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Brand Info"}),e.jsx("div",{className:"mt-4 ",children:e.jsx(V,{data:j})})]}),e.jsx("div",{className:"md:p-8 p-4 bg-background-alt rounded-xl",children:e.jsx(R,{})}),e.jsx("div",{className:"md:p-8 p-4 bg-background-alt rounded-xl",children:e.jsx(J,{})}),e.jsxs("div",{className:"flex md:flex-row flex-col justify-between gap-6",children:[e.jsxs("div",{className:"w-full bg-background-alt md:p-8 p-4 rounded-xl",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Current Plan"}),e.jsx("div",{className:"flex items-center gap-2 mt-4",children:e.jsx("div",{className:"px-4 py-1.5 bg-primary/10 rounded-full",children:e.jsx("span",{className:"font-semibold text-primary",children:((o=s==null?void 0:s.plan)==null?void 0:o.toUpperCase())||"free"})})}),e.jsxs("div",{className:"flex gap-4 items-center mt-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-blue-lighter",children:e.jsx("img",{src:(s==null?void 0:s.avatar)||"/icons/DisplayPicture.svg",className:"w-full h-full object-cover",alt:"User Avatar"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-xl break-all",children:s==null?void 0:s.fullName}),e.jsxs("p",{className:"text-xs font-medium",children:["@",s==null?void 0:s.username]})]})]}),((c=s==null?void 0:s.plan)==null?void 0:c.toLowerCase())==="enterprise"?e.jsx("p",{className:"mt-6 text-gray-700",children:"You are currently on our Enterprise plan. Enjoy all the advanced features and capabilities!"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mt-6 text-gray-700",children:["Upgrade to ",e.jsx("span",{className:"font-semibold",children:'"Enterprise"'})," plan to unlock additional capabilities and enhanced business support."]}),e.jsx(N,{onClick:()=>l("/upgrade-account"),variant:"primary",className:"px-6 py-2 mt-4",children:"Upgrade Your Plan"})]})]}),e.jsxs("div",{className:"w-full bg-background-alt md:p-8 p-4 rounded-xl",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Danger Zone"}),e.jsx("div",{className:"my-4",children:e.jsx("div",{className:"mt-4",children:e.jsx(T,{handleDeleteAccount:d})})})]})]})]}),t===1&&e.jsx(z,{})]})]})})};export{me as default};
