import{j as e,a as k,w as E,x as W,r as p,_ as v,A as N,g as H,k as Y,c as q,L as w}from"./main-rkb-dHu5.js";import{B as J,C as X,F as z}from"./FeedLinkParent-ma6xN5vz.js";import{B as j}from"./Button-CvMneL3o.js";import{T as K}from"./Tab-DLd86LDA.js";import{P as V}from"./Products-AI_I5WWV.js";import{S as Z}from"./ShareToButton-DHO7nuu7.js";import"./cn-DUyS5Z8L.js";import{C as D}from"./CircularLoader-ByPKQ32Q.js";import{m as y}from"./motion-BFGwjFB8.js";import{M as ee}from"./Modal-BCQBNMZ8.js";import"./index-DuNlSBVo.js";import{U as se}from"./user-round-Fh_o0VMQ.js";import{L as le}from"./link-DvQ_NoAO.js";import"./chevron-right-BUP4X5Z3.js";import"./createLucideIcon-Rsg1P1ng.js";const ae=({recommendations:s,isLoading:o,influencerId:m})=>o?e.jsx("div",{className:"max-w-[45rem] mx-auto p-6",children:e.jsx(D,{color:"border-green"})}):e.jsx(e.Fragment,{children:e.jsxs("main",{className:"max-w-5xl mx-auto p-3 space-y-3",children:[e.jsx("section",{className:"grid sm:grid-cols-2 md:grid-cols-3 grid-cols-1 gap-3 grid-flow-dense","aria-label":"Content feed",children:(s==null?void 0:s.length)===0?e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},className:"col-span-full text-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Content Available"}),e.jsx("p",{className:"text-gray-500",children:"Check back later for new recommendations and content."})]})}):s.map((c,i)=>e.jsx(y.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"row-span-2 transform transition-transform hover:scale-[1.02] hover:shadow-lg",children:e.jsx(J,{data:c})},c._id))}),(s==null?void 0:s.length)>0&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center pt-4",children:e.jsxs("p",{className:"text-gray-500 text-sm",children:["Showing ",s.length," ",s.length>1?"items":"item"]})})]})}),te=({isOpen:s,onClose:o,influencerId:m})=>{var t,g;const c=k(),{user:i}=E(f=>f.auth),{data:n,error:x,isLoading:h}=W({influencerId:m});console.log(n),p.useEffect(()=>{x&&v.error("Failed to fetch terms.")},[x]);const b=()=>{if(!i||(i==null?void 0:i.accountType)!=="influencer"){v.error("You must be logged in as a influencer to agree to the terms."),o();return}v.success("You have agreed to the terms."),o(),c(`/messages/${m}`,{replace:!0})};return s?e.jsx(ee,{onClose:o,children:h?e.jsx(N,{}):x?e.jsx("div",{className:"p-12  bg-white rounded-xl",children:e.jsx("p",{className:"text-lg font-semibold p-4",children:e.jsx("strong",{children:"No terms and conditions found"})})}):e.jsxs("div",{className:"min-w-[400px] max-w-[400px] p-6 bg-white rounded-xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Terms and Conditions"}),e.jsx("p",{className:"whitespace-pre-wrap mb-4",children:e.jsx("strong",{children:(t=n==null?void 0:n.terms)==null?void 0:t.termsAndConditions})}),e.jsxs("p",{className:"mb-4",children:["Duration: ",e.jsx("strong",{children:(g=n==null?void 0:n.terms)==null?void 0:g.duration})]}),e.jsxs("div",{className:"flex w-full justify-end",children:[e.jsx(j,{variant:"outline",onClick:o,className:"p-2",children:"Cancel"}),e.jsx(j,{className:"px-4 py-1 ml-2",onClick:b,children:"Agree and Continue"})]})]})}):null},ve=()=>{var L,T,F,I,M,_,$,B;const[s,o]=p.useState(0),[m,c]=p.useState(!1);E(a=>a.auth);const{username:i}=H(),n=i.replace("@",""),x=a=>{o(a)};k();const[h,b]=p.useState("products"),{data:t,isLoading:g,error:f}=Y({username:n}),C=(L=t==null?void 0:t.data)==null?void 0:L.influencerId,R=[{id:"products",name:"Products",icon:e.jsx(V,{})},{id:"links",name:"Links",icon:e.jsx(le,{})}];if(p.useEffect(()=>{var a;if((a=t==null?void 0:t.data)!=null&&a.seo){document.title=t.data.seo.metaTitle||document.title;let d=document.querySelector("meta[name='description']");d?d.setAttribute("content",t.data.seo.metaDescription):(d=document.createElement("meta"),d.name="description",d.content=t.data.seo.metaDescription,document.head.appendChild(d))}},[t]),g)return e.jsx(N,{});const l=(t==null?void 0:t.data)||{},{fullName:U="",coverImage:P="",avatar:S="",additionalLinks:O=[],theme:G="",bio:Q="",socials:r={}}=l;if(g)return e.jsx(N,{});if(f)return e.jsxs("div",{children:["Error: ",f.message]});const A=()=>{c(!0)},u=l==null?void 0:l.shippingTo;return e.jsxs("div",{className:`bg-${G}`,children:[e.jsxs("div",{className:"w-full h-[20rem] md:h-[24rem] relative",children:[m&&e.jsx(te,{isOpen:m,onClose:()=>c(!1),influencerId:C}),P?e.jsx("img",{src:P,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#f9cdaa] to-[#d6e7bb]"}),e.jsxs("div",{className:"absolute inset-0 bg-black/30",children:[e.jsx(q,{className:"absolute left-4 top-4"}),e.jsx("div",{className:"container mx-auto h-full flex items-center justify-center p-4",children:e.jsxs("div",{className:"flex flex-row items-center gap-6 max-w-4xl w-full",children:[e.jsx("div",{children:S?e.jsx("img",{src:S||"/icons/DisplayPicture.svg",alt:"avatar",className:"w-32 h-32 md:w-40 md:h-40 rounded-full object-cover border-4 border-green"}):e.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full bg-white flex items-center justify-center",children:e.jsx(se,{className:"w-full h-full rounded-full"})})}),e.jsxs("div",{className:"flex-1 space-y-4 text-white-pure text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-row justify-between items-start gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:U}),e.jsx("p",{className:"text-lg opacity-90",children:i})]}),e.jsxs(j,{onClickHandler:A,variant:"primary",className:"hidden md:flex px-4 py-2 text-sm md:text-base font-medium tracking-wider bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 transition-all duration-300 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 items-center gap-2",children:[e.jsx("span",{children:"Become Ambassador"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 md:h-5 md:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),e.jsxs(j,{onClickHandler:A,variant:"primary",className:"md:hidden px-3 py-1.5 text-xs font-medium tracking-wider bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 transition-all duration-300 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-1",children:[e.jsx("span",{children:"Join"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),e.jsx("p",{className:"text-base text-left max-w-2xl",children:Q}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[r.facebook&&e.jsx("img",{src:"/images/facebook.png",alt:"Fb Icon",onClick:()=>window.open(r.facebook,"_blank"),className:"h-14 w-14 rounded-full object-cover"}),r.twitter&&e.jsx("img",{src:"/images/x.png",alt:"X Icon",onClick:()=>window.open(r.twitter,"_blank"),className:"h-14 w-14 rounded-full object-cover"}),r.instagram&&e.jsx("img",{src:"/images/insta.png",alt:"Insta Icon",onClick:()=>window.open(r.instagram,"_blank"),className:"h-14 w-14 rounded-full object-cover"}),r.youtube&&e.jsx("img",{src:"/images/youtube.png",alt:"Icon",onClick:()=>window.open(r.youtube,"_blank"),className:"h-14 w-14 rounded-full object-cover"}),r.linkedin&&e.jsx("img",{src:"/images/linkedin.png",alt:"Icon",onClick:()=>window.open(r.linkedin,"_blank"),className:"h-14 w-14 rounded-full object-cover"}),r.tiktok&&e.jsx("img",{src:"/images/whatsapp.png",alt:"Icon",onClick:()=>window.open(r.tiktok,"_blank"),className:"h-14 w-14 rounded-full object-cover"})]}),e.jsx("div",{children:u&&((T=u.countries)==null?void 0:T.length)>0?e.jsxs("div",{className:"flex flex-col gap-2 py-2",children:[e.jsxs("p",{className:"text-sm w-fit bg-green-100 text-green-700 px-2 py-0.5 rounded-md",children:["Ships to ",(F=u.countries)==null?void 0:F.length," ",((I=u.countries)==null?void 0:I.length)===1?"country":"countries"]}),u.countries&&e.jsx("div",{className:"flex flex-wrap gap-1",children:u.countries.slice(0,5).map((a,d)=>e.jsx("span",{className:"text-xs text-black bg-gray-100 px-2 py-0.5 rounded",children:a},d))})]}):e.jsx("p",{className:"text-sm",children:"Shipping Details not available."})}),e.jsx("div",{className:"flex gap-3 justify-center md:justify-start",children:O.map(a=>a.isActive&&e.jsx(w,{to:a.url,children:e.jsx("img",{src:a.thumbnail,alt:a.host,className:"w-8 h-8 rounded-full object-cover bg-white-pure border"})},a._id))})]})]})})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-[#f9cdaa] to-[#d6e7bb] min-h-screen py-5",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"max-w-lg mx-auto mb-8",children:e.jsx(K,{tabsData:R,activeTabIndex:s,handleTabChange:x})}),e.jsxs("div",{className:"max-w-full mx-auto",children:[s===0&&e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:" mb-2 ",children:e.jsx("ul",{className:"flex gap-2 max-w-4xl mx-auto flex-col md:flex-row justify-between overflow-auto text-center text-sm font-medium scrollbar-hide md:text-base bg-white-pure rounded-full p-2",children:["products","recommendations","collections"].map(a=>e.jsx("li",{className:"grow-[1]","aria-label":"Tabs",children:e.jsx("button",{onClick:()=>b(a),className:`group inline-flex items-center justify-center whitespace-nowrap p-1 w-full rounded-full flex-1 ${h===a?"bg-green text-white-pure":"bg-blue-lighter"}`,children:a.charAt(0).toUpperCase()+a.slice(1)})},a))})}),h==="products"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-items-center",children:((M=l==null?void 0:l.userProducts)==null?void 0:M.length)>0?(_=l==null?void 0:l.userProducts)==null?void 0:_.map(a=>e.jsx(ie,{product:a},a._id)):e.jsx("div",{className:"text-center text-gray-500 col-span-4 py-10",children:"No Products Found"})}),h==="recommendations"&&e.jsx("div",{className:"flex flex-col gap-8",children:e.jsx(ae,{recommendations:l==null?void 0:l.posts,influencerId:C})}),h==="collections"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-items-center",children:(($=l==null?void 0:l.collections)==null?void 0:$.length)>0&&((B=l==null?void 0:l.collections)==null?void 0:B.map((a,d)=>e.jsx(X,{collection:a},d)))||e.jsx("div",{className:"text-center text-gray-500 col-span-4 py-10",children:"No Collections Found"})})]}),s===1&&e.jsx("div",{className:"flex flex-col gap-8",children:e.jsx(z,{data:l==null?void 0:l.links})})]})]})}),(l.privacyPolicy||l.termsAndConditions||l.refundPolicy)&&e.jsxs("div",{className:"text-center text-white-pure font-medium w-full backdrop-blur-sm bg-gray-400 text-sm py-2 px-4 flex flex-col items-center justify-center gap-2",children:[e.jsx("span",{children:"For more information, please visit our"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[l.privacyPolicy&&e.jsx(w,{to:`/${i}/public-feed`,className:"text-white-pure hover:text-blue-900 transition-colors duration-200 border-b border-white/30 hover:border-primary",children:"Privacy Policy"}),l.termsAndConditions&&e.jsx(w,{to:`/${i}/public-feed`,className:"text-white-pure hover:text-blue-900  transition-colors duration-200 border-b border-white/30 hover:border-primary",children:"Terms & Conditions"}),l.refundPolicy&&e.jsx(w,{to:`/${i}/public-feed`,className:"text-white-pure hover:text-blue-900  transition-colors duration-200 border-b border-white/30 hover:border-primary",children:"Refund Policy"})]}),e.jsx("div",{className:" text-white-pure/80 mt-1",children:"Made with ❤️ by Fortiche"})]})]})},ie=({product:s})=>{const o=k(),{username:m}=H(),c=m.replace("@","");if(!s)return e.jsx("div",{children:"No Product Found"});const i=Array.isArray(s==null?void 0:s.category)?s==null?void 0:s.category:[s==null?void 0:s.category];return e.jsx("div",{children:e.jsxs("div",{className:"p-3 bg-green-light rounded-lg w-[16rem]",children:[e.jsx("div",{className:"relative h-32 sm:h-28 md:h-40 rounded-lg overflow-hidden bg-grey-light",children:e.jsx("img",{src:s==null?void 0:s.imageUrls[0],alt:s==null?void 0:s.title,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex flex-wrap gap-1 my-2",children:i.map((n,x)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-white-pure rounded-md",children:n},x))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-md font-semibold truncate",children:s==null?void 0:s.title}),e.jsx("p",{className:"my-1 flex items-center gap-2",children:e.jsxs("span",{className:"text-lg font-semibold",children:[s==null?void 0:s.pricing,"€"]})}),e.jsxs("div",{className:"mt-2 flex gap-2 justify-between",children:[e.jsx(j,{variant:"primary",className:"px-4 py-1 text-sm w-full",onClick:()=>o(`/b/${c}/product/${s==null?void 0:s._id}`),children:"Add to Cart"}),e.jsx(Z,{url:`${window.location.origin}/b/${c}/product/${s==null?void 0:s._id}`,title:s==null?void 0:s.title})]})]})]})})};export{ve as default};
