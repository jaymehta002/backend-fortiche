import{r as o,j as e,o as P,ad as S,ae as I,af as T,L as F,_ as t}from"./main-rkb-dHu5.js";import{d as U,M}from"./MobileView-DrrdcjsI.js";const A=[{id:1,name:"Universe",color:"bg-gradient-to-br from-[#373575] to-[#df94a6]",value:"universe"},{id:2,name:"Musk Blue",color:"bg-gradient-to-br from-[#e0f6ff] to-[#e0f6ff]",value:"muskBlue"},{id:3,name:"Sunset",color:"bg-gradient-to-br from-[#ff7627] to-[#ffc93f]",value:"sunset"},{id:4,name:"Musk",color:"bg-gradient-to-br from-[#ffeee2] to-[#ffeee2]",value:"musk"}],B=({onViewAll:c,onSave:d})=>{const[s,m]=o.useState(null);return e.jsxs("div",{className:"p-4 sm:p-6 bg-[#f5fffa] rounded-lg w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-2 sm:mb-0",children:"Pick a theme (PRO)"}),e.jsx("button",{onClick:c,className:"text-green-500 hover:text-green-700 font-semibold",children:"View All"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Choose any theme that you like and take your link to another level with extensive customizations"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:A.map(l=>e.jsxs("div",{className:`rounded-2xl overflow-hidden cursor-pointer transition-all duration-200 ${s===l.value?"ring-2 ring-green-500":""}`,onClick:()=>m(l.value),children:[e.jsx("div",{className:"h-48 sm:h-56 md:h-64 lg:h-[425px] flex flex-col bg-white",children:e.jsxs("div",{className:`flex-grow flex flex-col justify-center mx-3 my-2 rounded-2xl ${l.color}`,children:[e.jsx("div",{className:"h-8 bg-white m-1"}),e.jsx("div",{className:"h-8 bg-white m-1"}),e.jsx("div",{className:"h-8 bg-white m-1"})]})}),e.jsx("div",{className:"bg-white p-2 text-center text-sm font-medium",children:l.name})]},l.id))}),e.jsx("button",{onClick:()=>d(s),className:"mt-4 w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Save Theme"})]})},_=()=>{const{data:c,isLoading:d}=P(),s=c==null?void 0:c.data,[m]=S(),[l]=I(),[x]=T(),[h,g]=o.useState((s==null?void 0:s.fullName)||""),[i,p]=o.useState((s==null?void 0:s.bio)||""),[u,b]=o.useState((s==null?void 0:s.coverImage)||""),[j,N]=o.useState((s==null?void 0:s.avatar)||""),[D,v]=o.useState((s==null?void 0:s.theme)||"musk");o.useEffect(()=>{s&&(g(s.fullName),p(s.bio),N(s.avatar),b(s.coverImage),v(s.theme))},[s]);const w=async()=>{try{await x({fullName:h,bio:i}).unwrap(),t.success("Profile updated successfully")}catch(a){console.error("Failed to update profile:",a),t.error("Failed to update")}},y=async a=>{if(!a){t.error("Please select a theme first");return}try{await x({theme:a}).unwrap(),v(a),t.success("Theme updated successfully")}catch(r){console.error("Failed to update theme:",r),t.error("Failed to update theme")}},k=async a=>{const r=a.target.files[0];if(r){const n=new FormData;n.append("avatar",r);try{await m(n).unwrap(),t.success("Avatar updated successfully")}catch(f){console.error("Failed to update avatar:",f),t.error("Failed to update avatar")}}},C=async a=>{const r=a.target.files[0];if(r){const n=new FormData;n.append("coverImage",r);try{await l(n).unwrap(),t.success("Cover image updated successfully")}catch(f){console.error("Failed to update cover image:",f),t.error("Failed to update cover image")}}};return d?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6 bg-[#f5fffa]",children:[e.jsxs("div",{className:"flex flex-row space-x-4 items-center",children:[e.jsx(F,{to:"/links",className:"mb-4 ",children:e.jsx("img",{src:"/icons/back_button.svg",alt:"back"})}),e.jsx("h1",{className:"text-[32px] font-bold mb-6",children:"Customize Page"})]}),e.jsxs("div",{className:"bg-[#f3f3f3] p-4 rounded-2xl mb-8",children:[e.jsx("h2",{className:"text-[32px] font-bold mb-4",children:"Header"}),e.jsxs("div",{className:"flex flex-col items-start mb-4",children:[e.jsxs("div",{className:"relative mb-5",children:[e.jsx("img",{src:j,alt:"profile_pic",className:"w-20 h-20 rounded-full object-cover"}),e.jsxs("label",{className:"absolute z-10 text-center right-0 bottom-0 bg-[#2ecc71] text-base rounded-full text-white w-6 h-6 cursor-pointer",children:["+",e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:k})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-purple-500 w-12 h-8 mb-3 rounded-md flex-shrink-0",children:u&&u!==""?e.jsx("img",{src:u,alt:"Icon",className:"w-12 h-8 rounded-md object-cover"}):e.jsx("img",{src:U,alt:"Icon",className:"w-12 h-8 rounded-md object-cover"})}),e.jsxs("label",{className:"ml-4 text-green-600 hover:underline cursor-pointer underline",children:["Change Header Image",e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:C})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Title"}),e.jsx("input",{type:"text",className:"mt-1 block w-full p-2 border border-[#e4fff0] rounded-3xl focus:outline-none focus:ring-2 focus:ring-green-300",placeholder:"Profile title",value:h,onChange:a=>g(a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{className:"mt-1 block w-full p-2 border border-[#e4fff0] rounded-[20px] focus:outline-none focus:ring-2 focus:ring-green-300",placeholder:"Bio",value:i,onChange:a=>p(a.target.value),maxLength:120,rows:3}),e.jsx("div",{className:"font-medium text-right text-sm",children:`${(i==null?void 0:i.length)||0}/120`})]}),e.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-green-600 text-white-pure rounded-lg hover:bg-green-700",children:"Save Changes"})]}),e.jsx(B,{onSave:y})]}),e.jsx("div",{className:"w-[1px] hidden md:block my-4 ml-4 bg-[#595D62] h-[90vh]"}),e.jsx("div",{className:"w-1/2 p-6",children:e.jsx(M,{linkItems:[],tabid:"Custom",products:[],user:s})})]})};export{_ as default};
