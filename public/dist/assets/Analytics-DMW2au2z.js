import{r as R,Q as B,S as H,an as L,j as s}from"./main-DA-vLYwL.js";import{A as x,H as O}from"./AnalyticsCard-BGO2Qu6n.js";import{S as r,D as z}from"./StatsCard-Dlqw4L-F.js";import{B as $}from"./Button-eyYpVHNH.js";import{C as J,a as K}from"./chevron-right-D8akTFj8.js";import"./Dropdown-CslC-zzG.js";import"./cn-DUyS5Z8L.js";import"./createLucideIcon-yfTUF5RS.js";const es=()=>{var j,N,u,b,y,v,P,w,C,k,S,f,I,V,D,F;const[m,Q]=R.useState(1),[i,T]=R.useState(1),o=5,d=4,{data:e}=B(),{data:n}=H(),{data:t}=L(),E=Math.ceil((((N=(j=t==null?void 0:t.data)==null?void 0:j.productPerformance)==null?void 0:N.length)||0)/o),h=(m-1)*o,G=h+o,M=Math.ceil((((b=(u=t==null?void 0:t.data)==null?void 0:u.recentOrders)==null?void 0:b.length)||0)/d),p=(i-1)*d,q=p+d,g=({totalPages:a,currentPage:l,onPageChange:c})=>s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[s.jsx("button",{onClick:()=>c(l-1),disabled:l===1,className:"p-2 rounded-lg hover:bg-background-alt disabled:opacity-50",children:s.jsx(J,{className:"w-5 h-5"})}),s.jsxs("span",{className:"mx-4",children:["Page ",l," of ",a]}),s.jsx("button",{onClick:()=>c(l+1),disabled:l===a,className:"p-2 rounded-lg hover:bg-background-alt disabled:opacity-50",children:s.jsx(K,{className:"w-5 h-5"})})]});return s.jsxs("div",{className:"flex flex-col gap-6 max-w-[1920px] mx-auto px-4 lg:px-8",children:[s.jsxs("div",{className:"p-4 lg:p-8 rounded-xl",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Summary"}),s.jsxs("div",{className:"flex lg:flex-row flex-col justify-between gap-8 mt-8",children:[s.jsx(r,{title:"Views",value:(e==null?void 0:e.totalPageViews)??"No data",change:e==null?void 0:e.totalPageViews},"views"),s.jsx(r,{title:"Clicks",value:(e==null?void 0:e.totalClicks)??"No data",change:e==null?void 0:e.totalClicks},"clicks"),s.jsx(r,{title:"CTR",value:e!=null&&e.totalPageViews?(e.totalClicks/e.totalPageViews).toFixed(0):"No data",change:e!=null&&e.totalPageViews?(e.totalClicks/e.totalPageViews).toFixed(0):null},"ctr"),s.jsx(r,{title:"Revenue",value:(e==null?void 0:e.totalSale)??"No data",change:e==null?void 0:e.totalSale},"revenue")]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(z,{data:n==null?void 0:n.topDemographics,className:"w-full p-4 col-span-2 lg:col-span-1 lg:p-8 rounded-xl"}),s.jsx(x,{className:"w-full col-span-2 lg:col-span-1 p-4 lg:p-8 rounded-xl",title:"Orders Summary",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-background-alt rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:((v=(y=t==null?void 0:t.data)==null?void 0:y.summary)==null?void 0:v.totalOrders)??"No data"})]}),s.jsxs("div",{className:"p-4 bg-background-alt rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Commission"}),s.jsx("p",{className:"text-2xl font-bold",children:(w=(P=t==null?void 0:t.data)==null?void 0:P.summary)!=null&&w.totalCommission?`${t.data.summary.totalCommission.toFixed(2)}€`:"No data"})]})]})},"summary"),s.jsx(x,{className:"w-full col-span-2 p-4 lg:p-8 rounded-xl",title:"Product Performance",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2",children:"Product"}),s.jsx("th",{className:"text-left py-2",children:"Orders"}),s.jsx("th",{className:"text-left py-2",children:"Quantity"}),s.jsx("th",{className:"text-left py-2",children:"Commission"})]})}),s.jsx("tbody",{children:(k=(C=t==null?void 0:t.data)==null?void 0:C.productPerformance)!=null&&k.length?t.data.productPerformance.slice(h,G).map((a,l)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-2",children:a.productName}),s.jsx("td",{className:"py-2",children:a.orders}),s.jsx("td",{className:"py-2",children:a.quantitySold}),s.jsxs("td",{className:"py-2",children:[a.totalCommission.toFixed(2),"€"]})]},l)):s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"text-center py-4",children:"No data available"})})})]}),((f=(S=t==null?void 0:t.data)==null?void 0:S.productPerformance)==null?void 0:f.length)>0&&s.jsx(g,{totalPages:E,currentPage:m,onPageChange:Q})]})},"performance")]}),s.jsx(x,{className:"w-full p-4 lg:p-8 rounded-xl bg-background",title:"Recent Orders",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4",children:"Order #"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Products"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Commission"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Total Amount"})]})}),s.jsx("tbody",{children:(V=(I=t==null?void 0:t.data)==null?void 0:I.recentOrders)!=null&&V.length?t.data.recentOrders.slice(p,q).map(a=>s.jsxs("tr",{className:"border-b hover:bg-background-alt/50",children:[s.jsxs("td",{className:"py-3 px-4 font-medium",children:["#",a.orderNumber]}),s.jsx("td",{className:"py-3 px-4 text-gray-500",children:new Date(a.createdAt).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex flex-col gap-1",children:a.orderItems.map((l,c)=>s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:l.productName}),s.jsxs("span",{className:"text-gray-500",children:[" (x",l.quantity,")"]})]},c))})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex flex-col gap-1",children:a.orderItems.map((l,c)=>s.jsxs("div",{className:"text-sm text-success",children:["+ ",l.commission.toFixed(2),"€"]},c))})}),s.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[a.totalAmount.toFixed(2),"€"]})]},a.orderNumber)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"text-center py-4",children:"No recent orders available"})})})]}),((F=(D=t==null?void 0:t.data)==null?void 0:D.recentOrders)==null?void 0:F.length)>0&&s.jsx(g,{totalPages:M,currentPage:i,onPageChange:T})]})},"recent-orders"),s.jsx("div",{className:"fixed z-50 shadow-xl right-6 lg:right-8 bottom-4 lg:bottom-6",children:s.jsx($,{variant:"primary",className:"p-3 rounded-full",children:s.jsx(O,{})})})]})};export{es as default};
