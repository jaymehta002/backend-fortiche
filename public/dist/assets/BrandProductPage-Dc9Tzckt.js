import{a as S,g as f,l as R,k as U,r as j,j as e,A as L}from"./main-DA-vLYwL.js";import{C as y}from"./CartIcon-DG8RBZdo.js";import{R as $}from"./index-BdrbOg9j.js";import{B as b}from"./Button-eyYpVHNH.js";import{D as B}from"./Dropdown-CslC-zzG.js";import{C as E}from"./CircularLoader-DpqCMVwK.js";import{A as _}from"./arrow-left-CLRbmHMc.js";import{A as z}from"./arrow-right-Ah2oACqI.js";import"./cn-DUyS5Z8L.js";import"./createLucideIcon-yfTUF5RS.js";const V=()=>{var x,p,h,g,u;const t=S(),{id:w}=f(),{data:i,isLoading:N}=R({id:w}),s=i==null?void 0:i.data,{username:v}=f(),r=v.replace("@",""),{data:n}=U({username:r}),[d,o]=j.useState(0),[k,c]=j.useState(!1),m=`cart_${(x=n==null?void 0:n.data)==null?void 0:x.influencerId}`,I=()=>{c(!0);try{const a=JSON.parse(localStorage.getItem(m))||[],l=a.findIndex(A=>A._id===s._id);l!==-1?a[l].quantity+=1:a.push({...s,productId:s._id,productType:s.productType==="downloadable"?"downloadable":"physical",brandId:s.brandId,quantity:1}),localStorage.setItem(m,JSON.stringify(a)),t(`/b/${r}/cart`)}catch(a){console.error("Error adding to cart:",a)}finally{c(!1)}},C=()=>{o(a=>a===s.imageUrls.length-1?0:a+1)},T=()=>{o(a=>a===0?s.imageUrls.length-1:a-1)},D=()=>s.productType==="physical"&&s.physicalDetails?e.jsxs("div",{className:"bg-white-pure rounded-lg p-4 mt-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Product Specifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:["Weight: ",s.physicalDetails.weight," g"]}),e.jsxs("div",{children:["Height: ",s.physicalDetails.height," mm"]}),e.jsxs("div",{children:["Width: ",s.physicalDetails.width," mm"]}),e.jsxs("div",{children:["Length: ",s.physicalDetails.length," mm"]}),e.jsxs("div",{children:["Package: ",s.physicalDetails.packageFormat]}),e.jsxs("div",{children:["SKU: ",s.physicalDetails.sku]}),e.jsxs("div",{children:["EAN: ",s.physicalDetails.ean]})]})]}):null,P=()=>{var a;return s.productType==="downloadable"&&((a=s.downloadableDetails)!=null&&a.fileUpload)?e.jsxs("div",{className:"bg-white-pure rounded-lg p-4 mt-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Digital Product"}),e.jsx("p",{className:"text-sm",children:"This is a downloadable product. After purchase, you'll receive access to download the file."})]}):null};return N?e.jsx(L,{}):e.jsxs("div",{className:"flex flex-col px-4 md:px-24 gap-4 rounded-lg max-w-[1440px] mx-auto",children:[e.jsx("button",{className:"py-8 md:py-16 w-fit hover:opacity-75 transition-opacity",onClick:()=>t(-1),children:e.jsx("img",{src:"/images/CaretDoubleLeft.png",className:"w-6 h-6"})}),e.jsxs("div",{className:"w-full flex md:flex-row flex-col gap-4 md:gap-12 rounded-xl",children:[s.imageUrls.length>0?e.jsxs("div",{className:"relative md:w-1/2 w-full group",children:[e.jsx("img",{src:s.imageUrls[d],alt:`${s.title} - Image ${d+1}`,className:"md:h-[40rem] h-[20rem] w-full rounded-2xl object-cover shadow-lg transition-transform duration-300 group-hover:scale-[1.02]"}),s.imageUrls.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:T,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-3 rounded-full hover:bg-black/50 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{onClick:C,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-3 rounded-full hover:bg-black/50 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/20 backdrop-blur-sm rounded-full p-2",children:s.imageUrls.map((a,l)=>e.jsx("button",{onClick:()=>o(l),className:`w-2.5 h-2.5 rounded-full transition-all ${l===d?"bg-white scale-125":"bg-white/50 hover:bg-white/80"}`},l))})]})]}):e.jsx("div",{className:"md:w-1/2 md:h-[30rem] h-[15rem] w-full rounded-2xl overflow-hidden bg-green"}),e.jsxs("div",{className:"md:w-1/2 p-4 flex flex-col md:gap-6 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:`px-4 py-1.5 text-sm font-medium rounded-full ${s.productType==="downloadable"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:s.productType==="downloadable"?"Digital Product":"Physical Product"}),s.isRecommended&&e.jsx("span",{className:"px-4 py-1.5 text-sm font-medium rounded-full bg-yellow-100 text-yellow-700",children:"Recommended"})]}),e.jsx("h1",{className:"md:text-5xl text-3xl font-bold break-words tracking-tight",children:s==null?void 0:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:[s==null?void 0:s.stock," in stock"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"★"})," ",s==null?void 0:s.rating,"/5.00"]})]}),e.jsxs("div",{className:"flex items-baseline gap-4",children:[e.jsxs("span",{className:"md:text-4xl text-2xl font-bold",children:[s==null?void 0:s.pricing,"€"]}),s.wholesalePricing&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Wholesale: ",s.wholesalePricing,"€"]})]}),e.jsxs("div",{className:"flex gap-4 items-center pt-4",children:[e.jsx(B,{options:["1","2","3"],name:"1",className:"w-24"}),e.jsx(b,{variant:"primary",onClick:I,className:"px-8  flex-1  text-lg font-medium",children:k?e.jsx(E,{}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Add to Cart"]})})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx($,{theme:"bubble",readOnly:!0,modules:{toolbar:!1},value:s==null?void 0:s.description})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-4 py-2 bg-gray-100 rounded-full text-sm font-medium",children:s==null?void 0:s.category}),(p=s.tags)==null?void 0:p.map((a,l)=>e.jsx("span",{className:"px-4 py-2 bg-gray-50 rounded-full text-sm",children:a},l))]})}),D(),P(),(s==null?void 0:s.shippingTo)&&e.jsxs("div",{className:"mt-4 bg-gray-50 rounded-xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Shipping Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm",children:["Ships to ",(h=s.shippingTo.countries)==null?void 0:h.length," ",((g=s.shippingTo.countries)==null?void 0:g.length)===1?"country":"countries"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(u=s.shippingTo.countries)==null?void 0:u.map((a,l)=>e.jsx("span",{className:"px-3 py-1.5 bg-white rounded-full text-sm shadow-sm",children:a},l))}),s.shippingTo.deliveryTime&&e.jsxs("p",{className:"text-sm bg-green-50 text-green-700 px-4 py-2 rounded-full inline-block",children:["Estimated delivery: ",s.shippingTo.deliveryTime," days"]})]})]})]})]}),e.jsx("div",{className:"fixed z-50 shadow-xl right-6 lg:right-8 bottom-4 lg:bottom-6",children:e.jsx(b,{variant:"primary",onClick:()=>t(`/b/${r}/cart`),className:"p-4 rounded-full hover:scale-105 transition-transform",children:e.jsx(y,{className:"w-6 h-6"})})})]})};export{V as default};
