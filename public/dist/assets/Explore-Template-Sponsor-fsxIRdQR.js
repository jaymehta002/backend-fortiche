import{r as m,a9 as w,a as j,w as S,j as o,_ as f}from"./main-DA-vLYwL.js";import{A as C}from"./AddUrlModal-BpAiW84G.js";import"./Button-eyYpVHNH.js";import"./cn-DUyS5Z8L.js";import"./Modal-DmDqMwFG.js";var O={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function N(e){if(typeof e=="number")return{value:e,unit:"px"};var r,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?r=parseFloat(n):r=parseInt(n,10);var t=(e.match(/[^0-9]*$/)||"").toString();return O[t]?{value:r,unit:t}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}function x(e){var r=N(e);return"".concat(r.value).concat(r.unit)}var k=function(e,r,n){var t="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return t;var s=document.createElement("style");document.head.appendChild(s);var l=s.sheet,u=`
    @keyframes `.concat(t,` {
      `).concat(r,`
    }
  `);return l&&l.insertRule(u,0),t},h=function(){return h=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},h.apply(this,arguments)},T=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)r.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(n[t[s]]=e[t[s]]);return n},_=k("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function E(e){var r=e.loading,n=r===void 0?!0:r,t=e.color,s=t===void 0?"#000000":t,l=e.speedMultiplier,u=l===void 0?1:l,c=e.cssOverride,g=c===void 0?{}:c,i=e.size,d=i===void 0?35:i,v=T(e,["loading","color","speedMultiplier","cssOverride","size"]),b=h({background:"transparent !important",width:x(d),height:x(d),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(_," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},g);return n?m.createElement("span",h({style:b},v)):null}const L=()=>{const[e,r]=m.useState(""),[n,t]=m.useState(""),[s]=w(),l=j(),[u,c]=m.useState(!1),g=S(a=>a.auth.user),[i,d]=m.useState(!1),v=async()=>{try{if(d(!0),!n.trim()||!e.trim()){f.error("Please fill all the fields");return}if(parseInt(e)<=0){f.error("Duration must be greater than 0");return}await s({termsAndConditions:n.trim(),duration:parseInt(e)}),f.success("Sponsorship terms added successfully"),r(""),t(""),l("/explore",{state:{activeTab:2}})}catch(a){console.error("Error saving sponsorship terms:",a),f.error(a.message||"Error saving sponsorship terms")}finally{d(!1),c(!1)}},b=a=>{a.preventDefault(),e&&n&&c(!0)},y=a=>{a&&(v(),r(""),t(""),l("/explore",{state:{activeTab:2}})),c(!1)};return g.plan=="free"&&(window.location.href="/upgrade-account"),o.jsxs(o.Fragment,{children:[u&&o.jsx(C,{handleConfirmationModal:y,onClose:()=>c(!1)}),o.jsxs("form",{onSubmit:b,className:"p-6 rounded-lg max-w-2xl",children:[o.jsxs("div",{className:"flex flex-row space-x-4 items-center",children:[o.jsx("button",{onClick:()=>l("/explore",{state:{activeTab:2}}),className:"mb-4 ",children:o.jsx("img",{src:"/icons/back_button.svg",alt:"back"})}),o.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Sponsor Terms"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"duration",className:"block text-base font-medium mb-1",children:["Duration (in months) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"duration",placeholder:"Enter duration in months",value:e,disabled:i,className:`mt-1 block w-full px-3 py-2 bg-white-pure rounded-2xl shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm ${i?"opacity-50 cursor-not-allowed":""}`,onChange:a=>{const p=a.target.value;(p===""||/^\d+$/.test(p)&&parseInt(p)>=0)&&r(p)}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"terms",className:"block text-base font-medium mb-1",children:["Terms & Conditions (Description) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{id:"terms",placeholder:"Enter terms description",value:n,disabled:i,rows:4,className:`mt-1 block w-full px-3 py-2 bg-white-pure rounded-2xl shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm ${i?"opacity-50 cursor-not-allowed":""}`,onChange:a=>t(a.target.value)})]}),o.jsx("button",{type:"submit",disabled:i||!n.trim()||!e.trim(),className:`w-44 py-2 px-4 bg-green-500 text-white-pure font-semibold rounded-3xl shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 flex items-center justify-center ${i||!n.trim()||!e.trim()?"opacity-50 cursor-not-allowed":""}`,children:i?o.jsx(E,{size:20,color:"#ffffff"}):"Add"})]})]})};export{L as default};
