import{r as l,j as e,L as k}from"./main-17S3Hvul.js";import{s as F}from"./search-ARtRfbrc.js";import{E as A,a as E}from"./jspdf.plugin.autotable-De09E112.js";import"./typeof-QjJsDpFa.js";const B=()=>{const[o,f]=l.useState(""),[d,g]=l.useState(""),[n,i]=l.useState([]),[u,m]=l.useState(""),[p,b]=l.useState([{id:1,email:"peterdoe01@gmail.com",phoneNumber:900000001,successfulOrders:10,returnedOrders:10,discountedPrice:8,state:"Approved"},{id:2,email:"peterdoe02@gmail.com",phoneNumber:900000002,successfulOrders:8,returnedOrders:10,discountedPrice:6,state:"Not Approved"},{id:3,email:"peterdoe03@gmail.com",phoneNumber:900000003,successfulOrders:12,returnedOrders:8,discountedPrice:9,state:"Approved"},{id:4,email:"peterdoe04@gmail.com",phoneNumber:900000003,successfulOrders:6,returnedOrders:7,discountedPrice:7,state:"Approved"},{id:5,email:"peterdoe05@gmail.com",phoneNumber:900000004,successfulOrders:10,returnedOrders:8,discountedPrice:8,state:"Not Approved"}]),j=s=>{f(s.target.value)},N=s=>{g(s.target.value)},y=s=>{i(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},v=s=>{if(s.target.checked){const t=x.map(a=>a.email);i(t)}else i([])},O=()=>{b(s=>s.filter(t=>!n.includes(t.email))),i([])},x=p.filter(s=>s.email.toLowerCase().includes(o.toLowerCase())||s.phoneNumber.toString().includes(o)).sort((s,t)=>d==="state"?s.state.localeCompare(t.state):d==="successfulOrders"?t.successfulOrders-s.successfulOrders:d==="returnedOrders"?t.returnedOrders-s.returnedOrders:d==="discountedOrders"?parseFloat(t.discountedPrice)-parseFloat(s.discountedPrice):0),h=p.filter(s=>n.includes(s.email)),w=()=>{u==="pdf"?C():u==="csv"&&S(),m("Export")},C=()=>{const s=new A;E(s,{head:[["Customer Name","Phone Number","Successful Orders","Returned Orders","Discounted Price","State"]],body:h.map(t=>[t.email,t.phoneNumber,t.successfulOrders,t.returnedOrders,t.discountedPrice,t.state])}),s.save("selected_customers.pdf")},S=()=>{const t=[["Customer Name","Phone Number","Successful Orders","Returned Orders","Discounted Price","State"],...h.map(r=>[r.email,r.phoneNumber,r.successfulOrders,r.returnedOrders,r.discountedPrice,r.state])].map(r=>r.join(",")).join(`
`),a=new Blob([t],{type:"text/csv"}),P=window.URL.createObjectURL(a),c=document.createElement("a");c.setAttribute("hidden",""),c.setAttribute("href",P),c.setAttribute("download","selected_customers.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c)};return e.jsxs("div",{className:"p-6 bg-[#f5fffa] min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{className:"flex items-center px-4 py-1 border font-semibold border-gray-300 rounded-3xl",children:[e.jsx("span",{className:"mr-2 text-2xl",children:"+"})," Import"]}),e.jsxs("select",{value:u,onChange:s=>m(s.target.value),onClick:w,className:"px-1 py-2 bg-inherit border border-gray-500 font-semibold rounded-3xl text-center appearance-none focus:outline-none focus:ring-2 focus:ring-white cursor-pointer",style:{backgroundImage:"none"},children:[e.jsx("option",{value:"",children:"Export"}),e.jsx("option",{value:"pdf",children:"Export as PDF"}),e.jsx("option",{value:"csv",children:"Export as CSV"})]}),e.jsx(k,{to:"/brands/add-customers",className:"flex items-center px-4 py-1 bg-green-500 text-white-pure rounded-3xl cursor-pointer",children:"+ Add New"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative min-h-10 min-w-[400px]",children:[e.jsx("img",{src:F,alt:"Search Icon",className:"w-4 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search for customers",value:o,onChange:j,className:"w-full py-2 pl-10 pr-4 rounded-3xl border border-[#E4FFF0] font-normal text-sm focus:outline-none focus:ring-2 focus:ring-white"})]}),e.jsx("div",{className:"flex space-x-4",children:n.length===0?e.jsx(e.Fragment,{children:e.jsxs("select",{value:d,onChange:N,className:"p-2 border border-[#E4FFF0] font-medium text-sm rounded-3xl focus:outline-none focus:ring-2 focus:ring-white",children:[e.jsx("option",{value:"",children:"Filter"}),e.jsx("option",{value:"state",children:"By State"}),e.jsx("option",{value:"successfulOrders",children:"By Successful Orders"}),e.jsx("option",{value:"returnedOrders",children:"by Returned Orders"}),e.jsx("option",{value:"discountedOrders",children:"By Discounted Price"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 h-3",children:e.jsx("img",{src:"/icons/edit_pen.svg",alt:"delete"})}),e.jsx("button",{onClick:O,className:"px-4 py-2 ",children:e.jsx("img",{src:"/icons/delete_black.svg",alt:"delete"})})]})})]})}),e.jsx("div",{className:"overflow-x-auto ",children:e.jsxs("table",{className:"min-w-3xl bg-white",children:[e.jsx("thead",{className:"border-b-2 border-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:e.jsx("input",{type:"checkbox",className:"accent-green-500 w-5 h-5 cursor-pointer",checked:n.length>0&&n.length===x.length,onChange:v})}),e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:"Customer Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:"Phone Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:"Successful Orders"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:"Returned Orders"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:"Discounted Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm leading-4 text-gray-600 tracking-wider",children:"State"})]})}),e.jsx("tbody",{children:x.map((s,t)=>e.jsxs("tr",{className:"hover:bg-gray-100 border-b border-gray-200 bg-[#f5fffa]",children:[e.jsx("td",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("input",{type:"checkbox",className:"accent-green-500 w-5 h-5 cursor-pointer",checked:n.includes(s.email),onChange:()=>y(s.email)})}),e.jsx("td",{className:"px-6 py-4",children:s.email}),e.jsx("td",{className:"px-6 py-4 ",children:s.phoneNumber}),e.jsx("td",{className:"px-4 py-4 ",children:s.successfulOrders}),e.jsx("td",{className:"px-4 py-4 ",children:s.returnedOrders}),e.jsxs("td",{className:"px-4 py-4 ",children:[s.discountedPrice,"â‚¬"]}),e.jsx("td",{className:"px-4 py-4 ",children:s.state})]},t))})]})})]})};export{B as default};
