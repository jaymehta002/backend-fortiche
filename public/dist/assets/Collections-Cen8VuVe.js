import{al as v,am as w,j as s,r as u}from"./main-rkb-dHu5.js";import{B as h}from"./Button-CvMneL3o.js";import{S as y}from"./ShareToButton-DHO7nuu7.js";import{m as N}from"./motion-BFGwjFB8.js";import{T as o}from"./trash-2-DjpvhiVs.js";import{C as b,a as p}from"./chevron-right-BUP4X5Z3.js";const C=({product:e})=>s.jsxs("div",{className:"flex-shrink-0 w-32 md:w-40",children:[s.jsx("img",{src:(e==null?void 0:e.imageUrls[0])||"/api/placeholder/200/200",alt:e==null?void 0:e.title,className:"w-full h-24 object-cover rounded-md"}),s.jsx("p",{className:"mt-1 text-xs font-bold truncate",children:e==null?void 0:e.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["$",e==null?void 0:e.pricing]})]}),c=({collection:e,onEdit:l,onDelete:m})=>{var d,j,g;u.useRef(null);const[a,i]=u.useState(0),n=x=>{var f;const t=x==="next"?Math.min(a+1,((f=e==null?void 0:e.products)==null?void 0:f.length)-1):Math.max(a-1,0);i(t)},r=(d=e==null?void 0:e.products)==null?void 0:d.reduce((x,t)=>x+Number(t==null?void 0:t.pricing),0);return s.jsxs("div",{className:"bg-green-light rounded-lg shadow-sm p-3 relative max-w-sm",children:[s.jsxs("div",{className:"flex gap-5 justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold capitalize",children:e==null?void 0:e.title}),s.jsxs("div",{className:" flex gap-2 items-center",children:[s.jsx(h,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>m(e==null?void 0:e.id),children:s.jsx(o,{className:"h-5 w-5 text-red-500"})}),s.jsx(y,{url:`${window.location.origin}/my-store`,title:e==null?void 0:e.title})]})]}),s.jsxs("div",{className:"relative mb-2",children:[s.jsx("div",{className:"flex justify-center",children:(e==null?void 0:e.products[a])&&s.jsx(C,{product:e==null?void 0:e.products[a]})}),a>0&&s.jsx(h,{variant:"ghost",size:"icon",className:"absolute rounded-full top-1/2 left-0 -translate-y-1/2 bg-green/80 hover:bg-green-500 shadow-md h-8 w-8 flex items-center justify-center transition-all duration-200 hover:scale-110",onClick:()=>n("prev"),children:s.jsx(b,{className:"h-4 w-4 text-gray-700"})}),a<((j=e==null?void 0:e.products)==null?void 0:j.length)-1&&s.jsx(h,{variant:"ghost",size:"icon",className:"absolute rounded-full top-1/2 right-0 -translate-y-1/2 bg-green/80 hover:bg-green-500 shadow-md h-8 w-8 flex items-center justify-center transition-all duration-200 hover:scale-110",onClick:()=>n("next"),children:s.jsx(p,{className:"h-4 w-4 text-gray-700"})})]}),s.jsxs("div",{className:"flex justify-between items-center text-base text-gray-600",children:[s.jsx("p",{children:`${a+1}/${(g=e==null?void 0:e.products)==null?void 0:g.length} Products`}),s.jsxs("p",{className:"font-bold",children:["â‚¬ ",r.toFixed(2)]})]})]})},F=()=>{const{data:e,isLoading:l,isError:m}=v(),[a]=w(),i=(e==null?void 0:e.data)||[],n=async r=>{if(window.confirm("Are you sure you want to delete this collection?"))try{await a(r).unwrap()}catch(d){console.error("Failed to delete collection:",d)}};return l?s.jsx("p",{children:"Loading collections..."}):m?s.jsx("p",{children:"Failed to load collections."}):s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:i.length>0?i.map(r=>s.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsx(c,{collection:r,onDelete:n})},r.id)):s.jsx("div",{className:"text-center text-gray-500 mt-10",children:"No collections found."})})})};export{F as C};
