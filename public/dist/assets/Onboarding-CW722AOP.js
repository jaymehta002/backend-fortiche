import{r as l,N,u as E,a as L,b as A,j as e,c as O,_ as j,d as $}from"./main-rkb-dHu5.js";import{C as R}from"./CircularLoader-ByPKQ32Q.js";import{u as _,v as z,I as D,a as M}from"./InputField--WdItIgk.js";import{B as i}from"./Button-CvMneL3o.js";import{S as P,U as V}from"./UserNameInput-DsQ5ItZu.js";import"./cn-DUyS5Z8L.js";import"./createLucideIcon-Rsg1P1ng.js";import"./eye-y4_ED_9k.js";const b=[{type:"influencer",icon:"/icons/smart-emoji.svg",iconBg:"bg-pink"},{type:"brand",icon:"/icons/smile-emoji.svg",iconBg:"bg-grey-light"}],Y=()=>{const[o,d]=l.useState({fullName:"",username:"",accountType:"",categories:[]}),[n,m]=l.useState(1),[y,v]=l.useState([N[0]]),[u,S]=l.useState(b[0].type),[p,c]=l.useState(!1),w=E(),h=L(),[C]=A(),{register:x,handleSubmit:k,formState:{errors:f}}=_({mode:"onChange",defaultValues:o}),F=()=>m(s=>s+1),T=()=>m(s=>s-1),B=s=>{v(t=>{const r=t.includes(s)?t.filter(a=>a!==s):[...t,s];return d(a=>({...a,categories:r})),r})},g=async s=>{d(t=>({...t,...s})),F()},I=async()=>{var s,t,r;try{c(!0);const a=await C(o);c(!1),a.data.success&&(j.success("Registration successful!"),w($((s=a==null?void 0:a.data)==null?void 0:s.user)),((r=(t=a==null?void 0:a.data)==null?void 0:t.user)==null?void 0:r.accountType)==="influencer"?h("/dashboard",{replace:!0}):h("/brands/dashboard",{replace:!0}))}catch(a){j.error(a.message),c(!1)}},U=()=>{switch(n){case 1:return e.jsx("div",{className:"w-full",children:e.jsxs("form",{onSubmit:k(g),className:"flex flex-col gap-4",children:[e.jsx(V,{type:"text",name:"username",className:"mt-2",placeholder:"Setup your Username",register:x,validate:z,errors:f,prefix:"fortiche.com/@"}),e.jsx(D,{type:"text",name:"fullName",className:"mt-2",placeholder:"Enter your Name",register:x,validate:M,errors:f}),e.jsx(i,{type:"submit",variant:"primary",className:"py-2 mt-8",children:"Continue"})]})});case 2:return e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"font-semibold text-lg my-4",children:"Choose your account type"}),e.jsx("div",{className:"flex md:flex-row flex-col gap-4 md:gap-8 my-8",children:b.map(({type:s,icon:t,iconBg:r})=>e.jsxs("div",{className:`border-4 transition hover:border-green ${u===s?"border-green":"border-background"} bg-green-light w-full h-52 rounded-[2.5rem] p-8 cursor-pointer`,onClick:()=>S(s),children:[e.jsx("div",{className:`w-20 h-20 grid place-items-center rounded-3xl ${r}`,children:e.jsx("img",{src:t,alt:s})}),e.jsx("p",{className:"font-bold text-2xl capitalize mt-5",children:s})]},s))}),e.jsx(i,{variant:"primary",className:"py-2 w-full",onClick:()=>g({accountType:u}),children:"Continue"})]});case 3:return e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"font-semibold text-lg my-4",children:"Choose your niche"}),e.jsx("div",{className:"flex flex-wrap gap-4 my-8",children:N.map(s=>e.jsx("div",{className:`w-fit transition hover:bg-green ${y.includes(s)?"bg-green text-white-pure":"bg-blue-lighter"} rounded-md cursor-pointer`,onClick:()=>B(s),children:e.jsx("p",{className:"w-max text-sm p-2",children:e.jsx("span",{className:"mr-3",children:s})})},s))}),e.jsx(i,{variant:"primary",className:"py-2 w-full",onClick:I,disabledBoolean:p,children:p?e.jsx(R,{}):"Continue"})]});default:return null}};return e.jsx("div",{className:"h-screen p-6 md:p-12",children:e.jsxs("div",{className:"flex h-full gap-12 justify-center",children:[e.jsxs("div",{className:"md:w-[36rem] w-full flex flex-col justify-between h-full",children:[e.jsx(O,{}),e.jsx("div",{className:"my-8",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex gap-4",children:[n>0&&e.jsx("span",{className:"text-3xl font-semibold cursor-pointer",onClick:T,children:"‚Üê"}),e.jsx("h2",{className:"font-bold text-2xl md:text-3xl",children:"Account Setup"})]}),e.jsx("p",{className:"my-4",children:"Setup your profile on Fortiche by walking through this mini onboarding process, where you need to fill up these information."}),e.jsx(P,{totalSteps:3,currentStep:n-1,className:"my-8"}),U()]})})]}),e.jsx("div",{className:"md:w-[36rem] md:block hidden",children:e.jsx("img",{src:"/images/login-image.svg",alt:"login-image",className:"h-full w-full"})})]})})};export{Y as default};
