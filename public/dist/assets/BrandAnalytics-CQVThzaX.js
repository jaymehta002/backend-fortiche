import{a$ as n,b0 as x,r as a,j as s}from"./main-rkb-dHu5.js";import{A as h,H as f}from"./AnalyticsCard-Dlcy-68i.js";import{S as j,D as b}from"./StatsCard-Cchrcafp.js";import{B as N}from"./Button-CvMneL3o.js";import"./Dropdown-C3wOEOAw.js";import"./cn-DUyS5Z8L.js";const V=()=>{const{data:e,refetch:l,isLoading:d}=n(),{data:o,refetch:t,isLoading:i}=x(),[p,c]=a.useState(!0);a.useEffect(()=>{l(),t()},[l,t]),a.useEffect(()=>{!d&&!i&&c(!1)},[d,i]);const m=[{label:"Total Orders",value:(e==null?void 0:e.totalOrders)||0},{label:"Total Affiliated Influencer",value:(e==null?void 0:e.totalInfluencers)||0},{label:"Total Sale Quantity",value:(e==null?void 0:e.totalSaleQty)||0},{label:"Total Clicks",value:(e==null?void 0:e.totalClicks)||0},{label:"Total Page Views",value:(e==null?void 0:e.totalPageViews)||0}];return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"p-4 lg:p-8 rounded-xl",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Summary"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",children:m.map((r,g)=>s.jsx(j,{title:r.label,value:r.value},g))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(b,{data:o,className:"w-full p-6 bg-white shadow-md rounded-xl"}),s.jsx(u,{mostViewedProducts:(e==null?void 0:e.mostViewedProducts)||[]})]}),s.jsx("div",{className:"flex lg:flex-row flex-col justify-between gap-6"}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsx(h,{className:"w-full p-4 lg:p-8 rounded-xl",title:"Sales",children:e&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-background-alt rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalOrders)||"No data"})]}),s.jsxs("div",{className:"p-4 bg-background-alt rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sale Quantity"}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalSaleQty)||"No data"})]}),s.jsxs("div",{className:"p-4 bg-background-alt rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Page Views"}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalPageViews)||"No data"})]}),s.jsxs("div",{className:"p-4 bg-background-alt rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Click Rate"}),s.jsx("p",{className:"text-2xl font-bold",children:e!=null&&e.totalClicks?`${(e.totalClicks/e.totalPageViews*100).toFixed(1)}%`:"No data"})]})]})||s.jsx("div",{className:"text-center text-gray-500 font-medium",children:"No Info Available."})},"sales")}),s.jsx("div",{className:"fixed z-50 shadow-xl right-6 lg:right-8 bottom-4 lg:bottom-6 rounded-full grid place-items-center",children:s.jsx(N,{variant:"primary",className:"p-3",children:s.jsx(f,{})})})]})},u=({mostViewedProducts:e})=>s.jsxs("div",{className:"p-6 bg-white shadow-md rounded-xl",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Most Viewed Products"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1 gap-4",children:e&&e.length>0?e.map(l=>s.jsxs("div",{className:"bg-gray-50 flex sm:flex-row gap-5 sm:gap-2 items-center w-full shadow rounded-lg hover:shadow-lg transition-shadow p-4",children:[s.jsx("img",{src:l.imageUrls,alt:l.title,className:"w-12 h-12 object-contain rounded-md"}),s.jsxs("div",{className:"flex flex-col justify-center sm:ml-4 mt-2 sm:mt-0 w-full sm:w-2/3",children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 break-words",children:(l==null?void 0:l.title.length)>20?(l==null?void 0:l.title.substring(0,20))+"...":l==null?void 0:l.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Page Views: ",l.pageView]})]})]},l._id)):s.jsx("div",{className:"text-center col-span-full text-gray-600",children:"No products found"})})]});export{V as default};
