import{g as pe,as as ue,r as l,a as ge,aj as be,j as e,b3 as $,b4 as je,av as r}from"./main-rkb-dHu5.js";import{R as Ne}from"./index-DuNlSBVo.js";/* empty css                   */const Pe=()=>{var K,B,M;const{id:f}=pe(),{data:u}=ue(),s=(K=u==null?void 0:u.products)==null?void 0:K.find(a=>a._id===f),[n,y]=l.useState([]),[i,v]=l.useState((s==null?void 0:s.productType)||"virtual"),[g,b]=l.useState((s==null?void 0:s.title)||""),[j,w]=l.useState((s==null?void 0:s.description)||""),[fe,z]=l.useState((s==null?void 0:s.description)||""),[P,k]=l.useState((s==null?void 0:s.category)||"fashion"),[V,S]=l.useState((s==null?void 0:s.tags)||[]),[c,C]=l.useState((s==null?void 0:s.stock)||""),[D,F]=l.useState((s==null?void 0:s.commissionPercentage)||0),[o,T]=l.useState((s==null?void 0:s.pricing)||100),[E,U]=l.useState((s==null?void 0:s.wholesalePricing)||80),[m,R]=l.useState((s==null?void 0:s.isRecommended)||!0),[J,X]=l.useState(0),[Y,Z]=l.useState(0),[ee,se]=l.useState(0),[ae,le]=l.useState(0),[h,A]=l.useState((s==null?void 0:s.imageUrls)||[]),[N,I]=l.useState("box"),W=ge(),[d,L]=l.useState((s==null?void 0:s.virtualDetails)||{}),[q,te]=l.useState(((B=s==null?void 0:s.physicalDetails)==null?void 0:B.ean)||""),[O,re]=l.useState(((M=s==null?void 0:s.physicalDetails)==null?void 0:M.sku)||""),[ie,{isLoading:x}]=be();l.useEffect(()=>{var a,t,p,Q,_;s&&(v(s.productType),b(s.title),z(s.description),w(s.description),k(s.category),C(s.stock),S(s.tags||[]),T(s.pricing),U(s.wholesalePricing),R(s.isRecommended),A(s.imageUrls||[]),L(s.virtualDetails||{}),F(s.commissionPercentage||0),X(((a=s.physicalDetails)==null?void 0:a.weight)||0),Z(((t=s.physicalDetails)==null?void 0:t.height)||0),se(((p=s.physicalDetails)==null?void 0:p.length)||0),le(((Q=s.physicalDetails)==null?void 0:Q.width)||0),I(((_=s.physicalDetails)==null?void 0:_.packageFormat)||"box"))},[s]);const G=a=>{v(a)},ne=()=>{R(a=>!a)},ce=a=>{a.preventDefault();const t=[...n,...a.dataTransfer.files];y(t)},oe=a=>{const t=[...n,...a.target.files];y(t)},de=async a=>{if(a.preventDefault(),!g){r.error("Title is required");return}if(i==="downloadable"&&!n.length){r.error("File is required");return}if(!j){r.error("Description is required");return}if(!h.length){r.error("Image is required");return}if(c===""||c===null||c===void 0){r.error("Stock is required");return}if(o===""||o===null||o===void 0){r.error("Pricing is required");return}try{await ie({id:f,formData:{title:g,description:j,category:P,stock:c,commissionPercentage:D,pricing:o,wholesalePricing:E,isRecommended:m,productType:i,imageUrls:h,virtualDetails:d,physicalDetails:{weight:J,height:Y,length:ee,width:ae,packageFormat:N,ean:q,sku:O},downloadableDetails:{fileUpload:n[0]}}}).unwrap(),r.success("Product updated successfully"),W("/brands/products")}catch(t){r.error("Failed to update product"),console.error("Failed to update product: ",t)}},me=a=>{const t=[...a.target.files];A(p=>[...p,...t])},H=l.useRef(null),he=a=>{const t=a.target.value;t.length<=60?b(t):b(t.slice(0,60))},xe=a=>{a.length<=500?w(a):r.error("Description cannot exceed 500 characters")};return e.jsx("form",{onSubmit:de,children:e.jsxs("div",{className:"p-6 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("button",{className:"mr-4",onClick:()=>W("/brands/products"),children:e.jsx("img",{src:"/icons/back_button.svg",alt:"back"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"bg-green-500 text-white-pure rounded-3xl px-4 py-2",disabled:x,children:x?"Saving...":"Save and Continue"})})]}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"General"}),e.jsxs("label",{className:"font-normal text-base py-2 block",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"(max 60 characters)"})]}),e.jsx("input",{type:"text",placeholder:"Product Name",value:g,onChange:he,className:"block w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4"}),e.jsx("h3",{className:"font-normal text-base py-2",children:"Description"}),e.jsx("div",{className:"items-start",children:e.jsx(Ne,{theme:"snow",value:j,onChange:xe,placeholder:"Enter product description...",className:"min-h-[200px]"})})]}),e.jsxs("div",{className:"w-1/3 flex pt-8 justify-end",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:me,className:"hidden",id:"imageUpload"}),e.jsx("label",{htmlFor:"imageUpload",className:"cursor-pointer",children:e.jsx("img",{src:h.length>0?h[0]:"/images/placeholderSocialIcon.png",alt:"Product Preview",className:"w-64 h-64 object-cover rounded-lg"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"font-normal text-base py-2 block",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:P,onChange:a=>k(a.target.value),className:"block w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4 cursor-pointer",children:Object.keys($).map(a=>e.jsx("option",{value:$[a],children:a},a))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"font-normal text-base py-2 block",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",value:V.join(","),onChange:a=>S(a.target.value.split(",")),className:"block w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"stock",className:"font-normal text-base py-2 block",children:["Stock ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"stock",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4",placeholder:"Product in stock",value:c,onChange:a=>C(a.target.value)})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex items-start space-x-3 py-2",children:[e.jsx("input",{type:"checkbox",className:"accent-green-500 w-5 h-5",name:"productType",value:"downloadable",checked:i==="downloadable",onChange:()=>G("downloadable")}),e.jsxs("span",{className:"font-bold text-base",children:["Downloadable",e.jsx("p",{className:"text-sm text-gray-400 font-normal",children:"Such as eBooks, music, videos, software, or anything else digital. That are downloadable."})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 py-2",children:[e.jsx("input",{type:"checkbox",className:"accent-green-500 w-5 h-5",name:"productType",value:"physical",checked:i==="physical",onChange:()=>G("physical")}),e.jsxs("span",{className:"font-bold text-base",children:["Physical",e.jsx("p",{className:"text-sm text-gray-400 font-normal",children:"Add t-shirts, books, art, merchandise or any other product that requires shipping."})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pricing"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-base font-normal py-2",children:["Product Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2",placeholder:"Product price",value:o,onChange:a=>T(a.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-base font-normal py-2",children:["Discounted Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2",placeholder:"Discounted price",value:E,onChange:a=>U(a.target.value)})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"font-normal text-base py-2 block",children:"Commission Percentage"}),e.jsx("input",{type:"text",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2",placeholder:"Commission percentage",value:D,onChange:a=>F(a.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:m,onChange:ne}),e.jsx("div",{className:`${m?"bg-green-500":"bg-gray-600"} w-10 h-6 rounded-full p-1 flex items-center transition-all duration-300`,children:e.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${m?"translate-x-4":""}`})})]}),e.jsx("span",{className:"text-gray-700 font-semibold",children:"Authorize Recommendations"})]})]}),i==="virtual"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Professional Pricing"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-normal py-2",children:"Professional Price"}),e.jsx("input",{type:"text",value:s==null?void 0:s.professionalPrice,className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2",placeholder:"Professional price"})]})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Add Product"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-normal py-2",children:"Product Link"}),e.jsx("input",{type:"text",value:d==null?void 0:d.link,onChange:a=>L({...d,link:a.target.value}),className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2",placeholder:"URL of the product"})]})})]}),i==="downloadable"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"WHOLESALE PRICING"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wholesalePrice",className:"font-normal text-base py-2 block",children:"Wholesale Price"}),e.jsx("input",{type:"text",id:"wholesalePrice",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4",placeholder:"Wholesale Price"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ATTACHMENT"}),e.jsxs("div",{onDrop:ce,onDragOver:a=>a.preventDefault(),className:"max-w-3xl border border-dashed border-gray-400 rounded-lg p-4 text-center cursor-pointer",children:[e.jsx("input",{type:"file",multiple:!0,onChange:a=>oe(a),className:"hidden",ref:H}),e.jsxs("p",{children:["Drop your file or"," ",e.jsx("span",{onClick:()=>H.current.click(),className:"text-green-500 underline cursor-pointer",children:"browse"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Any file type"})]}),e.jsx("div",{className:"mt-2 ",children:n.length>0&&e.jsx("ul",{className:"space-y-1",children:n.map((a,t)=>e.jsx("li",{className:"text-sm text-gray-700",children:a.name},t))})})]})]}),i==="physical"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"WHOLESALE PRICING"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wholesalePrice",className:"font-normal text-base py-2 block",children:"Wholesale Price"}),e.jsx("input",{type:"text",id:"wholesalePrice",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4",placeholder:"Wholesale Price"})]})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Physical Product"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"font-normal text-base py-2 block",children:"Package Format"}),e.jsx("select",{type:"text",placeholder:"What's the price of the course?",className:"block w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4 cursor-pointer",value:N,onChange:a=>I(a.target.value),children:Object.keys(je).map(a=>e.jsx("option",{value:N[a],children:a},a))})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"EAN",className:"font-normal text-base py-2 block",children:"EAN"}),e.jsx("input",{type:"text",id:"ean",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4",placeholder:"Enter EAN",value:q,onChange:a=>te(a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"SKU",className:"font-normal text-base py-2 block",children:"SKU"}),e.jsx("input",{type:"text",id:"sku",className:"w-full bg-white-pure border border-green-100 rounded-3xl px-4 py-2 mb-4",placeholder:"Enter SKU",value:O,onChange:a=>re(a.target.value)})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"bg-green-500 text-white-pure rounded-3xl px-4 py-2",disabled:x,children:x?"Saving...":"Save and Continue"})})]})})};export{Pe as default};
