import{w as j,g,a as v,r as d,m as y,aI as N,j as e,A as R,_ as w}from"./main-17S3Hvul.js";import{B as l}from"./Button-D9xH6dL9.js";import{R as C}from"./index-sky1eh08.js";/* empty css                   */import"./cn-DUyS5Z8L.js";const L=()=>{const{user:m}=j(t=>t.auth),{id:c}=g(),i=v(),[s,o]=d.useState({title:"",content:"",tags:[],products:[]}),{data:n,isLoading:u}=y({id:c}),[p,{isLoading:r}]=N();if(d.useEffect(()=>{var t;if((t=n==null?void 0:n.data)!=null&&t.recommendation){const{title:a,content:h,tags:b,products:f}=n.data.recommendation;o({title:a,content:h,tags:b,products:f})}},[n]),u)return e.jsx(R,{});const x=async t=>{t.preventDefault();try{await p({id:c,...s}).unwrap(),i((m==null?void 0:m.accountType)==="influencer"?"/recommendations":"/brands/recommendations"),w.success("Recommendation updated successfully")}catch(a){console.error("Failed to update recommendation:",a)}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Update Recommendation"}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>o({...s,title:t.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),e.jsx(C,{theme:"snow",value:s.content,onChange:t=>o(a=>({...a,content:t})),className:"h-64 mb-12"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:s.tags.join(", "),onChange:t=>o({...s,tags:t.target.value.split(",").map(a=>a.trim())}),className:"w-full p-2 border rounded-md"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(l,{type:"submit",disabled:r,className:"px-4 py-2",children:r?"Updating...":"Update Recommendation"}),e.jsx(l,{type:"button",variant:"secondary",onClickHandler:()=>i("/recommendations"),className:"px-4 py-2",children:"Cancel"})]})]})]})};export{L as default};
