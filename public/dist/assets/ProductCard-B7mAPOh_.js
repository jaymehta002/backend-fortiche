import{a0 as T,a as k,a1 as B,r as c,U as C,V as H,T as R,j as e,L as S,_ as p}from"./main-17S3Hvul.js";import{B as y}from"./Button-D9xH6dL9.js";import{S as F}from"./ShareToButton-dcd2wGau.js";import{c as U}from"./createLucideIcon-DUHjy5LS.js";/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),J=({product:r})=>{var j,v;T();const N=k(),{data:d,isLoading:f}=B(),[D,b]=c.useState(!1),[A]=C(),[I]=H(),{data:m,isLoading:g}=R(),[n,h]=c.useState(!1),{_id:W,id:L,imageUrls:P,title:u,category:x,brand:_,description:G,pricing:a,wholesalePricing:w,shippingTo:o}=r,t=W||L,$=Array.isArray(x)?x:[x],E=a?((a-w)/a*100).toFixed(2):null;if(c.useEffect(()=>{if(!f&&d){const s=(d.data||[]).some(l=>l._id===t);b(s)}},[d,f,t]),c.useEffect(()=>{if(!g&&m){const s=(m.data||[]).some(l=>l._id===t);h(s)}},[m,g,t]),!r)return null;const M=async i=>{i.stopPropagation(),i.preventDefault(),h(s=>!s);try{n?(await I(r._id).unwrap(),p.error("Removed from wishlist!")):(await A(r._id).unwrap(),p.success("Added to wishlist!"))}catch{h(l=>!l),p.error(n?"Error removing from wishlist.":"Error adding to wishlist.")}};return console.log(o),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"p-4 bg-green-light rounded-xl",children:[e.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 w-full rounded-2xl overflow-hidden bg-grey-light",children:[e.jsx(y,{variant:"secondary",className:`absolute right-2 top-2 p-2.5 ${n?"bg-primary":"bg-white-pure"} border-none`,onClickHandler:M,children:e.jsx(z,{className:n?"fill-red-500 text-red-600":"fill-white-pure"})}),e.jsx("img",{src:P[0],alt:u,className:"w-full h-full object-cover"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 my-3",children:$.map((i,s)=>e.jsx("span",{className:"px-3 py-1 text-sm bg-white-pure rounded-lg",children:i},s))}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold truncate hover:text-clip hover:whitespace-normal",children:u}),e.jsx(S,{to:"/brand-details",className:"font-medium",children:_}),e.jsxs("p",{className:"my-2 flex items-center gap-2",children:[e.jsxs("span",{className:"text-xl font-semibold",children:["$",w]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"line-through text-sm",children:["$",a]}),e.jsx("span",{className:"text-sm text-green",children:`(-${E}%)`})]})]}),e.jsxs("div",{className:"mt-3 flex gap-4",children:[e.jsx(y,{onClickHandler:()=>N(`/explore/product/${t}`),variant:"primary",className:"px-6 w-full py-2",children:"Buy"}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(F,{url:`${window.location.origin}/explore/product/${t}`,title:u})})]}),o?e.jsx("div",{className:"flex items-center gap-2 justify-between mt-3 bg-white-pure rounded-lg p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsxs("span",{className:"text-[12px]",children:["Ships to ",(j=o.countries)==null?void 0:j.length," ",((v=o.countries)==null?void 0:v.length)===1?"country":"countries"]})]})}):e.jsx("div",{className:"flex items-center gap-2 justify-between mt-3 bg-white-pure rounded-lg p-2",children:e.jsx("p",{className:"text-sm",children:"No shipping information available."})})]})]})})};export{z as H,J as P};
