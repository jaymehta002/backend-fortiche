import{a$ as h,b0 as x,r,j as s}from"./main-DA-vLYwL.js";import{S as f,D as w}from"./StatsCard-Dlqw4L-F.js";import{B as u}from"./Button-eyYpVHNH.js";import{U as b}from"./UpgradeCard-DkFa0pcA.js";import{C as p}from"./CircularLoader-DpqCMVwK.js";import"./Dropdown-CslC-zzG.js";import"./cn-DUyS5Z8L.js";const k=()=>{const{data:e,refetch:l,isLoading:t}=h(),{data:o,refetch:i,isLoading:d}=x(),[n,c]=r.useState(!0);r.useEffect(()=>{l(),i()},[l,i]),r.useEffect(()=>{!t&&!d&&c(!1)},[t,d]);const g=[{label:"Total Orders",value:(e==null?void 0:e.totalOrders)||0},{label:"Total Affiliated Influencer",value:(e==null?void 0:e.totalInfluencers)||0},{label:"Total Sale Quantity",value:(e==null?void 0:e.totalSaleQty)||0},{label:"Total Clicks",value:(e==null?void 0:e.totalClicks)||0},{label:"Total Page Views",value:(e==null?void 0:e.totalPageViews)||0}];return r.useEffect(()=>{const a=document.createElement("script");return a.type="text/javascript",a.async=!0,a.src="https://embed.tawk.to/677ceff149e2fd8dfe039c80/1ih00ihsv",a.charset="UTF-8",a.setAttribute("crossorigin","*"),document.body.appendChild(a),window.Tawk_API=window.Tawk_API||{},window.Tawk_LoadStart=new Date,()=>{document.body.removeChild(a)}},[]),n?s.jsx(p,{color:"border-green"}):s.jsxs("div",{className:"flex flex-col gap-8 bg-gray-50 min-h-screen p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"p-6 bg-white shadow-md rounded-xl",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Analytics Overview"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-4",children:g.map((a,m)=>s.jsx(f,{title:a.label,value:a.value},m))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(w,{data:o,className:"w-full p-6 bg-white shadow-md rounded-xl"}),s.jsx(j,{mostViewedProducts:(e==null?void 0:e.mostViewedProducts)||[]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6",children:s.jsx(b,{className:"w-full p-6 bg-white shadow-md rounded-xl"})}),s.jsx("div",{className:"fixed z-50 shadow-xl right-6 lg:right-8 bottom-4 lg:bottom-6 rounded-full",children:s.jsx(u,{variant:"primary",className:"p-4 bg-green hover:bg-green-700 text-white rounded-full"})})]})},j=({mostViewedProducts:e})=>s.jsxs("div",{className:"p-6 bg-white shadow-md rounded-xl",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Most Viewed Products"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1 gap-4",children:e&&e.length>0?e.map(l=>s.jsxs("div",{className:"bg-gray-50 flex sm:flex-row gap-5 sm:gap-2 items-center w-full shadow rounded-lg hover:shadow-lg transition-shadow p-4",children:[s.jsx("img",{src:l.imageUrls,alt:l.title,className:"w-12 h-12 object-contain rounded-md"}),s.jsxs("div",{className:"flex flex-col justify-center sm:ml-4 mt-2 sm:mt-0 w-full sm:w-2/3",children:[s.jsx("p",{className:"font-bold text-xl mb-2 break-words",children:(l==null?void 0:l.title.length)>20?(l==null?void 0:l.title.substring(0,20))+"...":l==null?void 0:l.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Page Views: ",l.pageView]})]})]},l._id)):s.jsx("div",{className:"text-center col-span-full text-gray-600",children:"No products found"})})]});export{k as default};
